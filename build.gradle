import org.jetbrains.kotlin.gradle.dsl.JvmTarget

plugins {
  alias(libs.plugins.kotlin.jvm) apply false
  alias(libs.plugins.badass.runtime) apply false
  alias(libs.plugins.graalvm.native) apply false
}

configure(subprojects) {
  apply plugin: 'java-library'
  apply plugin: 'org.jetbrains.kotlin.jvm'
  java {
    sourceCompatibility = JavaVersion.VERSION_21
    targetCompatibility = JavaVersion.VERSION_21
  }
  compileJava {
    options.incremental = true
  }

  compileKotlin.compilerOptions.jvmTarget.set(JvmTarget.JVM_21)
  compileTestKotlin.compilerOptions.jvmTarget.set(JvmTarget.JVM_21)

}

subprojects {
  group = 'org.demoth'
  version = '1.0.0'
  ext.appName = 'cake'
  dependencies {
    testImplementation(libs.junit)
  }
}
